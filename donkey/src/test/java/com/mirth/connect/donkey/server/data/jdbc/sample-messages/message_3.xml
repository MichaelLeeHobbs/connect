<message>
  <messageId>3</messageId>
  <serverId>85965adc-b131-4c0d-bd4c-b5d18c234ff9</serverId>
  <channelId>47efbe21-ed1c-4d85-a2dd-b8f0eefdc251</channelId>
  <receivedDate>
    <time>1590470277599</time>
    <timezone>Europe/Amsterdam</timezone>
  </receivedDate>
  <processed>true</processed>
  <attachments>
    <attachment>
      <id>d988f89b-fe11-473c-8b7a-1e751b5632a5</id>
      <content>bWVzc2FnZSB0byBiZSBzdG9yZWQgYXMgYW4gYXR0YWNobWVudA==</content>
      <type>text/plain</type>
      <encrypt>false</encrypt>
    </attachment>
  </attachments>
  <connectorMessages class="linked-hash-map">
    <entry>
      <int>0</int>
      <connectorMessage>
        <messageId>3</messageId>
        <metaDataId>0</metaDataId>
        <channelId>47efbe21-ed1c-4d85-a2dd-b8f0eefdc251</channelId>
        <channelName>bdbje-test</channelName>
        <connectorName>Source</connectorName>
        <serverId>85965adc-b131-4c0d-bd4c-b5d18c234ff9</serverId>
        <receivedDate>
          <time>1590470277599</time>
          <timezone>Europe/Amsterdam</timezone>
        </receivedDate>
        <status>ERROR</status>
        <sourceMapContent>
          <encrypted>false</encrypted>
          <content class="java.util.Collections$UnmodifiableMap">
            <m>
              <entry>
                <string>destinationSet</string>
                <linked-hash-set>
                  <int>1</int>
                  <int>2</int>
                </linked-hash-set>
              </entry>
            </m>
          </content>
        </sourceMapContent>
        <connectorMapContent>
          <encrypted>false</encrypted>
          <content class="map"/>
        </connectorMapContent>
        <channelMapContent>
          <encrypted>false</encrypted>
          <content class="map"/>
        </channelMapContent>
        <responseMapContent>
          <encrypted>false</encrypted>
          <content class="map"/>
        </responseMapContent>
        <metaDataMap/>
        <processingErrorContent>
          <encrypted>false</encrypted>
          <content>Transformer error
ERROR MESSAGE: Error evaluating transformer
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:    bdbje-test
CONNECTOR:  sourceConnector
SCRIPT SOURCE:  
SOURCE CODE:    
94:         }
95:         eval(&apos;importPackage(&apos; + Packages.java.lang.Class.forName(className).getPackage().getName() + &apos;)&apos;);
96:     }
97: }
98: function doScript() {
99: msg = JSON.parse(connectorMessage.getTransformedData());
100: function doFilter() { phase[0] = &apos;filter&apos;; return true; }function doTransform() { phase[0] = &apos;transformer&apos;; logger = Packages.org.apache.log4j.Logger.getLogger(phase[0]);
101: 
102: 
103: if (&apos;xml&apos; === typeof msg) {
LINE NUMBER:    99
DETAILS:    SyntaxError: Unexpected token: $
    at fcd26c1e-f6a4-48f0-8738-d1b18eab6fef:99 (doScript)
    at fcd26c1e-f6a4-48f0-8738-d1b18eab6fef:126
    at com.mirth.connect.server.transformers.JavaScriptFilterTransformer$FilterTransformerTask.doCall(JavaScriptFilterTransformer.java:154)
    at com.mirth.connect.server.transformers.JavaScriptFilterTransformer$FilterTransformerTask.doCall(JavaScriptFilterTransformer.java:119)
    at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:113)
    at java.util.concurrent.FutureTask.run(FutureTask.java:266)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
    at java.lang.Thread.run(Thread.java:748)
</content>
        </processingErrorContent>
        <postProcessorErrorContent>
          <encrypted>false</encrypted>
        </postProcessorErrorContent>
        <responseErrorContent>
          <encrypted>false</encrypted>
        </responseErrorContent>
        <errorCode>1</errorCode>
        <sendAttempts>1</sendAttempts>
        <responseDate>
          <time>1590470277707</time>
          <timezone>Europe/Amsterdam</timezone>
        </responseDate>
        <chainId>0</chainId>
        <orderId>0</orderId>
      </connectorMessage>
    </entry>
  </connectorMessages>
</message>
