<message>
  <messageId>2</messageId>
  <serverId>85965adc-b131-4c0d-bd4c-b5d18c234ff9</serverId>
  <channelId>47efbe21-ed1c-4d85-a2dd-b8f0eefdc251</channelId>
  <receivedDate>
    <time>1587966592135</time>
    <timezone>Europe/Amsterdam</timezone>
  </receivedDate>
  <processed>true</processed>
  <connectorMessages class="linked-hash-map">
    <entry>
      <int>0</int>
      <connectorMessage>
        <messageId>2</messageId>
        <metaDataId>0</metaDataId>
        <channelId>47efbe21-ed1c-4d85-a2dd-b8f0eefdc251</channelId>
        <channelName>bdbje-test</channelName>
        <connectorName>Source</connectorName>
        <serverId>85965adc-b131-4c0d-bd4c-b5d18c234ff9</serverId>
        <receivedDate>
          <time>1587966592135</time>
          <timezone>Europe/Amsterdam</timezone>
        </receivedDate>
        <status>TRANSFORMED</status>
        <sourceMapContent>
          <encrypted>false</encrypted>
          <content class="java.util.Collections$UnmodifiableMap">
            <m>
              <entry>
                <string>destinationSet</string>
                <linked-hash-set>
                  <int>1</int>
                  <int>2</int>
                </linked-hash-set>
              </entry>
            </m>
          </content>
        </sourceMapContent>
        <connectorMapContent>
          <encrypted>false</encrypted>
          <content class="map"/>
        </connectorMapContent>
        <channelMapContent>
          <encrypted>false</encrypted>
          <content class="map"/>
        </channelMapContent>
        <responseMapContent>
          <encrypted>false</encrypted>
          <content class="map">
            <entry>
              <string>d1</string>
              <response>
                <status>ERROR</status>
                <message></message>
                <error></error>
                <statusMessage>Error converting message or evaluating filter/transformer</statusMessage>
              </response>
            </entry>
          </content>
        </responseMapContent>
        <metaDataMap/>
        <processingErrorContent>
          <encrypted>false</encrypted>
        </processingErrorContent>
        <postProcessorErrorContent>
          <encrypted>false</encrypted>
        </postProcessorErrorContent>
        <responseErrorContent>
          <encrypted>false</encrypted>
        </responseErrorContent>
        <errorCode>0</errorCode>
        <sendAttempts>1</sendAttempts>
        <responseDate>
          <time>1587966592178</time>
          <timezone>Europe/Amsterdam</timezone>
        </responseDate>
        <chainId>0</chainId>
        <orderId>0</orderId>
      </connectorMessage>
    </entry>
    <entry>
      <int>1</int>
      <connectorMessage>
        <messageId>2</messageId>
        <metaDataId>1</metaDataId>
        <channelId>47efbe21-ed1c-4d85-a2dd-b8f0eefdc251</channelId>
        <channelName>bdbje-test</channelName>
        <connectorName>Destination 1</connectorName>
        <serverId>85965adc-b131-4c0d-bd4c-b5d18c234ff9</serverId>
        <receivedDate>
          <time>1587966592159</time>
          <timezone>Europe/Amsterdam</timezone>
        </receivedDate>
        <status>ERROR</status>
        <sourceMapContent>
          <encrypted>false</encrypted>
          <content class="java.util.Collections$UnmodifiableMap">
            <m>
              <entry>
                <string>destinationSet</string>
                <linked-hash-set>
                  <int>1</int>
                  <int>2</int>
                </linked-hash-set>
              </entry>
            </m>
          </content>
        </sourceMapContent>
        <connectorMapContent>
          <encrypted>false</encrypted>
          <content class="map"/>
        </connectorMapContent>
        <channelMapContent>
          <encrypted>false</encrypted>
          <content class="map"/>
        </channelMapContent>
        <responseMapContent>
          <encrypted>false</encrypted>
          <content class="map">
            <entry>
              <string>d1</string>
              <response>
                <status>ERROR</status>
                <message></message>
                <error></error>
                <statusMessage>Error converting message or evaluating filter/transformer</statusMessage>
              </response>
            </entry>
          </content>
        </responseMapContent>
        <metaDataMap/>
        <processingErrorContent>
          <encrypted>false</encrypted>
          <content>Filter error
ERROR MESSAGE: Error evaluating filter
com.mirth.connect.server.MirthJavascriptTransformerException: 
CHANNEL:	bdbje-test
CONNECTOR:	Destination 1
SCRIPT SOURCE:	FILTER
SOURCE CODE:	
97: }
98: function doScript() {
99: msg = new XML(connectorMessage.getTransformedData());
100: if (msg.namespace(&apos;&apos;) != undefined) { default xml namespace = msg.namespace(&apos;&apos;); } else { default xml namespace = &apos;&apos;; }
101: function filterRule1() {
102: if(address.length &gt; 0) {
103: 	return true;
104: }
105: return false;
106: }function doFilter() { phase[0] = &apos;filter&apos;; return ((filterRule1() == true)); }
LINE NUMBER:	102
DETAILS:	ReferenceError: &quot;address&quot; is not defined.
	at b803b819-40d1-4b85-b227-dff1913f1089:102 (filterRule1)
	at b803b819-40d1-4b85-b227-dff1913f1089:106 (doFilter)
	at b803b819-40d1-4b85-b227-dff1913f1089:132 (doScript)
	at b803b819-40d1-4b85-b227-dff1913f1089:134
	at com.mirth.connect.server.transformers.JavaScriptFilterTransformer$FilterTransformerTask.doCall(JavaScriptFilterTransformer.java:154)
	at com.mirth.connect.server.transformers.JavaScriptFilterTransformer$FilterTransformerTask.doCall(JavaScriptFilterTransformer.java:119)
	at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:113)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
</content>
        </processingErrorContent>
        <postProcessorErrorContent>
          <encrypted>false</encrypted>
        </postProcessorErrorContent>
        <responseErrorContent>
          <encrypted>false</encrypted>
        </responseErrorContent>
        <errorCode>1</errorCode>
        <sendAttempts>0</sendAttempts>
        <chainId>1</chainId>
        <orderId>1</orderId>
      </connectorMessage>
    </entry>
  </connectorMessages>
</message>
